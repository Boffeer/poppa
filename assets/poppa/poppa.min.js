function showPop(e,o,p=null){e.classList.add("pop-wrapper--opened"),o.classList.add("pop--opened"),document.querySelector("html").classList.add("pop-opened--html"),null!=p&&p()}function closePop(e,o,p=null){o.classList.remove("pop--opened"),e.classList.remove("pop-wrapper--opened"),document.querySelector("html").classList.remove("pop-opened--html"),null!=p&&p()}function closePopByOutsideClick(e){document.querySelector(e.popWrap).addEventListener("click",function(o){if("pop-aligner"===o.target.classList[0]){closePop(document.querySelector(e.popWrap),document.querySelector(e.pop),e.onClose)}})}function popToggle(e,o,p,l){let t=e,s=o;"hidden"==window.getComputedStyle(t).getPropertyValue("visibility")?showPop(t,s,p):closePop(t,s,l)}function popaAddClasses(e,o){null==e&&null==e||!e.classList.contains("pop-wrapper")&&e.classList.add("pop-wrapper"),null==o&&null==o||!o.classList.contains("pop")&&o.classList.add("pop")}function createPopStructure(e){let o=document.createElement("div");o.classList.add(e.popWrap.replace(".","")),o.classList.add("pop-wrapper"),document.querySelector("body").appendChild(o);let p=document.createElement("div");p.classList.add("pop-aligner"),o.appendChild(p);let l=document.createElement("button"),t=0;l.innerText="Ã—",null!=e.popCloser&&l.classList.add(e.popCloser.replace(".","")),l.classList.add("pop-closer");let s=document.querySelector(e.pop);p.appendChild(s),s.classList.add("pop"),"inner"===e.popCloserType&&(l.classList.add("pop-closer--inner"),s.appendChild(l),t=1),"outer"===e.popCloserType&&(l.classList.add("pop-closer--outer"),s.appendChild(l),t=1),0==t&&(p.appendChild(l),l.classList.add("pop-closer--corner"))}function popa(e){let o=e;e.popWrap=e.pop+"-wrapper",createPopStructure(o);let p,l=document.querySelector(e.pop+"-wrapper"),t=document.querySelector(e.pop);if("page-leaving"==e.clickTrigger){let e=!1;document.querySelector(".pop-leaving-area").addEventListener("mouseenter",function(){!1===e&&(showPop(l,t),e=!0)})}else{[...document.querySelectorAll(e.clickTrigger)].map(o=>{o.addEventListener("click",function(){popToggle(l,t,e.onOpen,e.onClose)})})}p=null==p?l.querySelector(".pop-closer"):l.querySelector(e.popCloser),l.removeAttribute("hidden"),p.addEventListener("click",function(){closePop(l,t,e.onClose)}),closePopByOutsideClick(o)}